const canvas=document.getElementById("canvas_container"),context=canvas.getContext("2d"),html=document.documentElement,frameCount=77;let width=1920,height=1080;const img=new Image;let loader=document.querySelector(".loader"),textWrapper=document.querySelector(".loader-title");textWrapper.innerHTML=textWrapper.textContent.replace(/\S/g,"<span class='word'>$&</span>");let close_btn=document.querySelector(".close-modal"),modal_container=document.querySelector(".modal-container");const element1=document.querySelector(".go-contact-from-modal"),element2=document.querySelector(".container2-subtitle p"),element3=document.querySelector(".contact-button"),element4=document.querySelector(".bar-mobile"),hamburguer_menu=document.querySelector(".mobile_menu"),content=document.querySelector(".mobile_content"),openMenu=document.querySelector("body > header > div.static_menu > button > i"),smallDevices=window.matchMedia("(min-width:320px) and (max-width:854px)"),pre_gallery=document.querySelector(".pre_gallery_container");let modal_fired=!1;hamburguer_menu.addEventListener("click",function(){content.classList.toggle("active"),openMenu.classList.contains("fa-bars")?(openMenu.classList.remove("fa-bars"),openMenu.classList.add("fa-times"),disableScroll()):(openMenu.classList.remove("fa-times"),openMenu.classList.add("fa-bars"),enableScroll())});const currentImageclass=e=>`.main-animation-${e.toString()}`,updateFrame=e=>{let t=document.querySelector(currentImageclass(e));context.drawImage(t,0,0)};function init(e){window.scrollTo(0,0),setTimeout(()=>{loader.classList.add("disappear")},3800),startWordsAnimation(),e?loader.addEventListener("animationend",function(){enableScroll()}):loader.addEventListener("animationend",function(){modal_container.style.display="flex"})}function startWordsAnimation(){disableScroll(),anime.timeline({loop:!1}).add({targets:".loader-title .word",translateX:[40,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:800,delay:(e,t)=>500+30*t}).add({targets:".loader-title .word",translateX:[0,-30],opacity:[1,0],easing:"easeInExpo",duration:500,delay:(e,t)=>100+30*t})}function enableScroll(){window.onscroll=(()=>{const e=document.querySelector(".render_container").offsetHeight-window.innerHeight,t=html.scrollTop/e,n=Math.min(frameCount-1,Math.floor(t*frameCount));window.requestAnimationFrame(()=>updateFrame(n+1))})}function disableScroll(){scrollTop=window.pageYOffset||document.documentElement.scrollTop,scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,window.onscroll=(()=>window.scrollTo(scrollLeft,scrollTop))}function handleSmallDeviceChange(e){e.matches?init(!0):init(!1)}window.onresize=(()=>{width=window.innerWidth,height=window.innerHeight}),canvas.width=width,canvas.height=height,close_btn.addEventListener("click",function(){modal_container.style.display="none",enableScroll()}),smallDevices.addEventListener("change",handleSmallDeviceChange),[element1,element2,element3,element4].forEach(e=>{e.addEventListener("click",function(){window.open("https://apex.oracle.com/pls/apex/david_aworkspace/r/aei-jah-aplicaci%C3%B3n-gestion-empresarial/wp-contact-us","_blank")})}),handleSmallDeviceChange(smallDevices),img.src="/images/new_render/1.jpg",img.onload=(()=>context.drawImage(img,0,0));